{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["// Використовуючи делегуваня, відстежуй на формі подію input\n// щоразу записуй у локальне сховище об'єкт з полями email і message, у яких зберігай поточні значення полів форми.\n// Нехай ключем для сховища буде \"рядок\"\n\n// \"feedback-form-state\"\n\n// Під час завантаження сторінки перевіряй стан сховища\n// , і якщо там є збережені дані, то заповнюй ними поля форми.\n// В іншому випадку поля повинні бути порожніми.\n// Під час сабміту форми - очищай сховище і поля форми, а також\n// виводь у консоль об'єкт з полями email, message та їхніми поточними значеннями.\n\n// рефи записані в змінні\n\nconst feedbackFormEl = document.querySelector('.feedback-form');\nconst userData = {};\n\nconst fillFeedbackFormFields = () => {\n  try {\n    const userDataFromLs = JSON.parse(\n      localStorage.getItem('feedback-form-state')\n    );\n    if (userDataFromLs === null) {\n      return;\n    }\n\n    for (const key in userDataFromLs) {\n      if (feedbackFormEl.elements[key]) {\n        feedbackFormEl.elements[key].value = userDataFromLs[key];\n      }\n    }\n  } catch (error) {\n    console.log(\n      'Помилка парсингу даних користувача з локального сховища.',\n      error\n    );\n  }\n};\n\nfillFeedbackFormFields();\n\nconst onFeedbackFieldChange = event => {\n  event.preventDefault();\n\n  const { target: feedbackFieldEl } = event;\n  const feedbackFieldValue = feedbackFieldEl.value.trim();\n  const feedbackFieldName = feedbackFieldEl.name;\n\n  userData[feedbackFieldName] = feedbackFieldValue;\n  localStorage.setItem('feedback-form-state', JSON.stringify(userData));\n};\n\nconst onFeedbackFromSubmit = event => {\n  event.preventDefault();\n  console.log(userData);\n  localStorage.removeItem('feedback-form-state');\n  feedbackFormEl.reset();\n};\n\nfeedbackFormEl.addEventListener('input', onFeedbackFieldChange);\nfeedbackFormEl.addEventListener('submit', onFeedbackFromSubmit);\n"],"names":["feedbackFormEl","userData","fillFeedbackFormFields","userDataFromLs","key","error","onFeedbackFieldChange","event","feedbackFieldEl","feedbackFieldValue","feedbackFieldName","onFeedbackFromSubmit"],"mappings":"wFAcA,MAAMA,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAW,CAAA,EAEXC,EAAyB,IAAM,CACnC,GAAI,CACF,MAAMC,EAAiB,KAAK,MAC1B,aAAa,QAAQ,qBAAqB,CAChD,EACI,GAAIA,IAAmB,KACrB,OAGF,UAAWC,KAAOD,EACZH,EAAe,SAASI,CAAG,IAC7BJ,EAAe,SAASI,CAAG,EAAE,MAAQD,EAAeC,CAAG,EAG5D,OAAQC,EAAO,CACd,QAAQ,IACN,2DACAA,CACN,CACG,CACH,EAEAH,IAEA,MAAMI,EAAwBC,GAAS,CACrCA,EAAM,eAAc,EAEpB,KAAM,CAAE,OAAQC,CAAiB,EAAGD,EAC9BE,EAAqBD,EAAgB,MAAM,KAAI,EAC/CE,EAAoBF,EAAgB,KAE1CP,EAASS,CAAiB,EAAID,EAC9B,aAAa,QAAQ,sBAAuB,KAAK,UAAUR,CAAQ,CAAC,CACtE,EAEMU,EAAuBJ,GAAS,CACpCA,EAAM,eAAc,EACpB,QAAQ,IAAIN,CAAQ,EACpB,aAAa,WAAW,qBAAqB,EAC7CD,EAAe,MAAK,CACtB,EAEAA,EAAe,iBAAiB,QAASM,CAAqB,EAC9DN,EAAe,iBAAiB,SAAUW,CAAoB"}